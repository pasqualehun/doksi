%----------------------------------------------------------------------------
\chapter{Tervezés részletes leírása, a döntési lehetõségek értékelése és a választott megoldások}\label{sect:}
%----------------------------------------------------------------------------

\section{Kommunikáció}

A kommunikáció egy csatornán 2 db modem segítségével történik, a modemek egymás közt vezeték nélkül, rádióhullámokkal, felhasználó oldalon soros portot biztosítanak. Így a program majd csak egy soros porthoz csatlakozik, onnan kapja az adatokat.

TODO: baud...
TODO: kapott csomag leírása? ide kell?

\section{Redundáns jelek feldolgozása}

A redundanciából következõen külön, külön kell kezelni a 2 párhuzamos csatornán kapott adatokat.

TODO

\section{Feltöltés}

A repülõgép által lerepülendõ feladat útvonalpontjait hasonlóképpen, mint az adatok fogadását, vezeték nélküli csatornán küldjük fel. A feltöltendõ adat küldésének protokollja létfontosságú, mivel ha valamilyen hiba kerül a kommunikációba akkor az akár végzetes is lehet. Gondolok itt olyan hibára, hogy egy fordulópont koordinátája úgy kerül feltöltésre, hogy az kiesik a repülõ hatósugarából és ezzel nem számolva, lemerül a tápellátást szolgáló akkumulátor. Az ilyen hibák ellen célszerû a feltöltés protokolljába hibadetektálást építeni, hogy ezek a feldolgozás( esetlegesen felszállás ) elõtt kiderüljenek ki.


\subsection{Protokoll}

Több megoldás is lehetséges a fordulópontok feltöltésére:
\begin{itemize}
\item Rögzített maximális darabszám elküldése egy csomagban
\item Változó darabszám esetén egy fordulópont egy csomagban
\end{itemize}


Az elsõ megoldásban rögzítenénk a fordulópontok maximális számát. Mely azt eredményezné, hogy egy csomagban el lehetne küldeni az egész lerepülendõ feladatot. Ha egy pont koordinátájának ábrázolására elég 2x4 byte, így ha feltételezünk egy 160 byte-os csomagot, akkor abba beleférne kb 15 darab. Egy csomag állna egy fejlécbõl, a feltöltendõ pontok számából, a pontokból, és egy checkszámból. 

Másik lehetõségnél N db-t lehetne feltölteni: egy csomag szerkezete: fejléc, küldendõ pontok száma, aktuális pont sorszáma, koordinátái, checkszám. Ha a  küldendõ pontok száma és az aktuális pont sorszáma megegyezik és megérkezett minden csomag akkor ACK-val válaszol ha kész a feltöltés. 


Mivel az eddig használt megoldásban a kódba ,,bele volt égetve'' az útvonalterv, mely 5-6 pontot tartalmazott, az elsõ megoldás tûnik kedvezõbbnek. Fogadó oldalon is könnyebb egy ilyen lehetõségre felkészíteni. Ha esetlegesen a jövõben több fordulópontont feltöltésére lesz igény, az is megoldható kis átprogramozással.

A modem is duplikált, így a 2 soros portra csatlakoztatott modemmel redundánsan küldjük el a csomagot. Ha a csomag sértetlenül megérkezett, ACK jelzéssel válaszol.


\section{GUI kialakításának szempontjai}

Az elõzõ fejezetben ismertetett grafikus felületekbõl levonva a következtetéseket, nyilvánvaló, hogy a GUI kialakításában fontos a repülõgép aktuális pozíciójának térképen való mutatása, az repülési állapot könnyen értelmezhetõ megjelenítése, illetve az esetlegesen elõforduló problémák feltûnõ jelzése.

\subsection{Áttekintõ képernyõ}


\subsection{Tervezõ képernyõ}

\subsection{Diagnosztikai képernyõ}




